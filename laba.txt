#include "cuda_runtime.h" 
#include "device_launch_parameters.h" 

#include <iostream> #include <cmath> #include <stdio.h> #include <stdlib.h> #include <time.h> #include <math.h> 

#define DEBUG false 
#define DEBUG_MATRIX false #define DEBUG_TIMER true 

using namespace std; 
// Индекс строки с максимальным элементом из find_max_element_in_columnt() 
    device int max_element_index; 

void swap_lines_linear(double *matrix, double *y, int n, int i, int j) { 
 	double temp; 
 	for (int k = 0; k < n; k++) { 
 	 	temp = matrix[i * n + k]; 
 	 	matrix[i * n + k] = matrix[j * n + k]; 
 	 	matrix[j * n + k] = temp; 
 	} 
 	temp = y[i]; 
 	y[i] = y[j]; 
 	y[j] = temp; 
} 

// Поставить на место row строку с наибольшим ведущим коэффициентом void pivotize_linear(double *matrix, double *y, int n, int row) { 
 	int max_index = row; 
 	double max_value = fabs(matrix[row * n + row]); 
 	double current_value; 
 	for (int i = row + 1; i < n; i++) { 
 	 	current_value = fabs(matrix[i * n + row]); 
 	 	if (current_value > max_value) { 
 	 	 	max_index = i; 
 	 	 	max_value = current_value; 
 	 	} 
 	} 

 	if (row != max_index) { 
 	 	swap_lines_linear(matrix, y, n, row, max_index); 
 	} 
} 

